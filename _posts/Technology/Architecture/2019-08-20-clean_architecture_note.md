---

layout: post
title: 《架构整洁之道》笔记
category: 架构
tags: Architecture
keywords: window

---

## 简介（持续更新）

* TOC
{:toc}

## 架构设计是有一些原则的

余晟：结构化编程 杜绝了goto 导致的混乱，有多少次， 我看到的系统设计图里，根本没有”层次“的概念，各个模块没有一致的接口划分，与子系统交互的不是子系统，而是一盘散沙的接口，甚至接口之间随意互调，带来的就是维护与调试的噩梦，吹散历史的迷雾，不正是古老的goto陷阱的再现吗？

|编程范式|解决的问题|对应到泛指的分布式系统||
|---|---|---|---|
|结构化编程|消灭goto|接口之间随意互调|带来的就是维护和调试的噩梦|
|面向对象编程|通过封装、继承、多态 让代码的”缝隙“大一点<br>对变更更友好|接口的设计非常随意，不是基于行为而是基于特定场景实现<br>没有做适当的抽象，也没有给未来留有空间|
|函数式编程|隔离可变性、避免状态冲突|状态或变量的修改直接暴露，被不经意/恶意修改|只提供CR，不提供完整的CRUD操作|

|开发的三个层次||
|---|---|
|程序员|代码跑起来就行|
|工程师|可读、可扩展、可维护、重用<br>用工程的方法来写代码|
|架构师||

大多数的人目标不是设计出一个优质的软件或架构，而是快速解决一个具体的问题。但问题就像一个生命体一样，它们会不断地繁殖和进化， 问题的多少和系统的复杂度呈正比，并且是指数级正比，此时越来越难做技术决定，此时有一些资深的工程师开始挑战这些问题，有一些资深的工程师开始站出来挑战这些问题， 有的基于业务分析给出平衡的方案 有的开始尝试设计更高级的技术，有的开始设计更灵活的系统，有的则开始简化和轻量化整个系统，他们就是架构师。

软件架构关注的一个重点是组织结构（structure），不管是讨论组件Component、类Class、函数Function、模块Module，还是层级Layer、服务Service以及微观与宏观的 软件开发过程，软件的组织结构 都是我们的主要关注点。

物理建筑，不管地基是石头还是水泥，形状是高大还是宽阔， 风格是气势恢宏还是小巧玲珑， 其组织结构都一目了然。物理建筑的组织结构 必须遵循“受重力”这一自然规律，同时还要符合 建筑材料自身的物理特性。

计算机硬件在过去许多年发生了巨大的变化， 但今天的软件和过去本质上是一样的，都是由if、赋值语句以及while 循环组成的 ==> 软件架构的规则就是 排列组合代码块的规则 ==> 代码块没什么变化，因此排列组合它们的规则也不会变化。 
